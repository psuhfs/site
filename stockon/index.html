<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stockon - Inventory Management</title>
  <link rel="stylesheet" href="../assets/css/stockon.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>
  <script src="../utils.js"></script>
</head>

<body>
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <div class="header-title">
        <svg class="header-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2">
          <path
            d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
          </path>
          <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
          <line x1="12" y1="22.08" x2="12" y2="12"></line>
        </svg>
        <div>
          <h1>Stockon</h1>
          <p class="header-subtitle">Inventory Management</p>
        </div>
      </div>
      <div class="header-actions">
        <button class="btn-nav btn-dashboard" onclick="window.location.href='/dashboard'">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
          Dashboard
        </button>
        <button class="btn-nav btn-signup" onclick="window.location.href='/signup'">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2">
            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="8.5" cy="7" r="4"></circle>
            <line x1="20" y1="8" x2="20" y2="14"></line>
            <line x1="23" y1="11" x2="17" y2="11"></line>
          </svg>
          Signup
        </button>
      </div>
    </div>
  </header>

  <!-- Search Section -->
  <div class="search-section">
    <div class="search-bar">
      <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
        stroke-width="2">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      <input type="text" id="search-input" placeholder="Search for products by name or ID..." autocomplete="off"
        aria-label="Search for products" />
      <button id="clear-search" class="clear-btn" aria-label="Clear search" style="display: none">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>

    <!-- Filter Pills -->
    <div class="filter-section">
      <div class="filter-label">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
        </svg>
        <span>Filters:</span>
      </div>
      <div class="filter-pills">
        <select id="location-filter" class="filter-pill" aria-label="Select location">
          <option value="">All Locations</option>
        </select>
        <select id="area-filter" class="filter-pill" aria-label="Select area" disabled>
          <option value="">All Areas</option>
        </select>
        <select id="category-filter" class="filter-pill" aria-label="Select category" disabled>
          <option value="">All Categories</option>
        </select>
        <button id="reset-filters" class="reset-btn" style="display: none">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2">
            <polyline points="1 4 1 10 7 10"></polyline>
            <polyline points="23 20 23 14 17 14"></polyline>
            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
          </svg>
          Reset
        </button>
      </div>
    </div>

    <!-- Search Stats -->
    <div id="search-stats" class="search-stats" style="display: none">
      <span id="results-count">0 results</span>
      <span class="stats-divider">â€¢</span>
      <span id="selected-items-count">0 items selected</span>
    </div>
  </div>

  <!-- Quick Categories (shows when no search) -->
  <div id="quick-categories" class="quick-categories">
    <h2 class="section-title">Quick Access</h2>
    <div id="categories-grid" class="categories-grid"></div>
  </div>

  <!-- Items Grid -->
  <div id="items-section" class="items-section" style="display: none">
    <div class="section-header">
      <h2 class="section-title">Products</h2>
      <div class="view-toggle">
        <button id="grid-view" class="view-btn active" aria-label="Grid view">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
        </button>
        <button id="list-view" class="view-btn" aria-label="List view">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2">
            <line x1="8" y1="6" x2="21" y2="6"></line>
            <line x1="8" y1="12" x2="21" y2="12"></line>
            <line x1="8" y1="18" x2="21" y2="18"></line>
            <line x1="3" y1="6" x2="3.01" y2="6"></line>
            <line x1="3" y1="12" x2="3.01" y2="12"></line>
            <line x1="3" y1="18" x2="3.01" y2="18"></line>
          </svg>
        </button>
      </div>
    </div>
    <div id="items-container" class="items-grid"></div>
  </div>

  <!-- Empty State -->
  <div id="empty-state" class="empty-state" style="display: none">
    <svg class="empty-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2">
      <circle cx="11" cy="11" r="8"></circle>
      <path d="m21 21-4.35-4.35"></path>
      <line x1="11" y1="8" x2="11" y2="14"></line>
      <line x1="8" y1="11" x2="14" y2="11"></line>
    </svg>
    <h3>No products found</h3>
    <p>Try adjusting your search or filters</p>
  </div>

  <!-- Floating Action Buttons -->
  <div class="fab-container">
    <button id="date-fab" class="fab fab-date" style="display: none" aria-label="Select delivery date">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="16" y1="2" x2="16" y2="6"></line>
        <line x1="8" y1="2" x2="8" y2="6"></line>
        <line x1="3" y1="10" x2="21" y2="10"></line>
      </svg>
      <span class="fab-label">Select Date</span>
    </button>
    <button id="submit-fab" class="fab fab-submit" style="display: none" aria-label="Submit order" disabled>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="20 6 9 17 4 12"></polyline>
      </svg>
      <span class="fab-label">Submit</span>
      <span class="fab-badge" id="items-badge" style="display: none">0</span>
    </button>
  </div>

  <!-- Date Picker Modal -->
  <div id="date-modal" class="modal" style="display: none">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3>Select Delivery Date</h3>
        <button class="modal-close" aria-label="Close modal">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <input type="date" id="delivery-date" class="date-input" />
      </div>
      <div class="modal-footer">
        <button class="btn-secondary" id="cancel-date">Cancel</button>
        <button class="btn-primary" id="confirm-date">Confirm</button>
      </div>
    </div>
  </div>

  <!-- Order Confirmation Modal -->
  <div id="confirm-modal" class="modal" style="display: none">
    <div class="modal-overlay"></div>
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h3>ðŸ“‹ Confirm Your Order</h3>
        <button class="modal-close-confirm" aria-label="Close modal">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="order-summary">
          <div class="order-date"><strong>Delivery Date:</strong> <span id="confirm-date-display"></span></div>
          <div class="order-items-header">
            <strong>Order Details:</strong>
          </div>
          <div id="order-items-list" class="order-items-list">
            <!-- Items will be inserted here -->
          </div>
          <div class="order-total"><strong>Total Items:</strong> <span id="confirm-total-items"></span></div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-secondary" id="cancel-confirm">Edit Order</button>
        <button class="btn-primary" id="submit-confirm">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            style="width: 1rem; height: 1rem; margin-right: 0.5rem">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
          Confirm & Submit
        </button>
      </div>
    </div>
  </div>

  <script src="populate_categories.js"></script>
</body>

</html>